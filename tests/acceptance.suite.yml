actor: AcceptanceTester
modules:
    enabled:
        - WPDb
        - WPWebDriver
        - \Helper\Acceptance
    config:
        WPDb:
            dsn: "mysql:%TEST_SITE_DB_DSN_PREFIX%=%TEST_SITE_DB_HOST%;dbname=%TEST_SITE_DB_NAME%"
            user: "%TEST_DB_USER%"
            password: "%TEST_DB_PASSWORD%"
            dump: "tests/_data/dump.sql"
            populate: true #import the dump before the tests
            cleanup: false #import the dump between tests
            url: "%TEST_SITE_WP_URL%"
            urlReplacement: true #replace the hardcoded dump URL with the one above
            tablePrefix: "%TEST_TABLE_PREFIX%"
        WPBrowser:
            url: "%TEST_SITE_WP_URL%"
            adminUsername: "%TEST_SITE_ADMIN_USERNAME%"
            adminPassword: "%TEST_SITE_ADMIN_PASSWORD%"
            adminPath: "%TEST_SITE_WP_ADMIN_PATH%"
        WPWebDriver:
            url: "%TEST_SITE_WP_URL%"
            adminUsername: "%TEST_SITE_ADMIN_USERNAME%"
            adminPassword: "%TEST_SITE_ADMIN_PASSWORD%"
            adminPath: "%TEST_SITE_WP_ADMIN_PATH%"
            browser: chrome
            restart: true
            window_size: false
            port: 9515
            capabilities:
                browserName: chrome
                chromeOptions:
                    args: [ "--headless", "--disable-gpu" ]
                    prefs:
                        download.default_directory: "..."
